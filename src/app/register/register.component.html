<mat-card >

  <mat-card-title>
    Rejestracja
  </mat-card-title>

  <mat-card-subtitle>
    Utworz nowe konto aby uzyskac dostep do chatu!
  </mat-card-subtitle>

  <mat-card-content>

    <form [formGroup]="registerForm" (ngSubmit)="register()"> <!-- (ngSubmit)="login()" -->

      <mat-form-field appearance="fill">

        <mat-label>Adres email</mat-label>
        <input matInput
               formControlName="email"
               placeholder="jacek@example.com"
               required>

        <mat-error *ngIf="registerForm.get('email').errors?.required"> Nie wpisano adresu email ! </mat-error>
        <mat-error *ngIf="registerForm.get('email').errors?.email"> Nie wpisano poprawnego adres email ! </mat-error>

      </mat-form-field>

      <div class="container" formGroupName="passwordGroup">

        <mat-form-field appearance="fill">
          <mat-label>Haslo</mat-label>
          <input matInput
                 [type]="passwordHide ? 'password' : 'text'"
                 formControlName="password"
                 required>

          <button mat-icon-button matSuffix
                  (click)="passwordHide = !passwordHide"
                  [attr.aria-label]="'Ukryj hasło'"
                  [attr.aria-pressed]="passwordHide">
            <mat-icon> {{ passwordHide ? 'visibility_off' : 'visibility' }} </mat-icon>
          </button>

          <mat-error *ngIf="registerForm.get('passwordGroup.password').errors?.required"> Wprowadz haslo ! </mat-error>

        </mat-form-field>

        <mat-form-field appearance="fill">
          <mat-label>Potwierdz haslo</mat-label>
          <input matInput
                 [type]="passwordConfirmHide ? 'password' : 'text'"
                 formControlName="passwordConfirm"
                 required>

          <button mat-icon-button matSuffix
                  (click)="passwordConfirmHide = !passwordConfirmHide"
                  [attr.aria-label]="'Ukryj hasło'"
                  [attr.aria-pressed]="passwordConfirmHide">
            <mat-icon> {{ passwordConfirmHide ? 'visibility_off' : 'visibility' }} </mat-icon>
          </button>

          <mat-error *ngIf="registerForm.get('passwordGroup.passwordConfirm').errors?.required"> Wprowadz haslo ! </mat-error>
        </mat-form-field>
        <mat-error *ngIf="registerForm.get('passwordGroup').errors?.mismatch"> Wprowadzone hasła róznią się od siebie ! </mat-error>


      </div>

      <button mat-flat-button color="primary" type="submit"> Zarejestruj </button>

    </form>


  </mat-card-content>
</mat-card>
